var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
import { SideBarView } from '../index.js';
import { DefaultTreeSection } from './tree/default/DefaultTreeSection.js';
import { CustomTreeSection } from './tree/custom/CustomTreeSection.js';
import { ExtensionsViewSection } from './extensions/ExtensionsViewSection.js';
import { PageDecorator, BasePage } from '../utils.js';
import { ViewContent as ViewContentLocators } from '../../locators/1.73.0.js';
/**
 * Page object representing the view container of a side bar view
 *
 * @category Sidebar
 */
export let ViewContent = class ViewContent extends BasePage {
    constructor(locators, view = new SideBarView(locators)) {
        super(locators, view.elem);
        this.view = view;
        /**
         * @private
         */
        this.locatorKey = 'ViewContent';
    }
    /**
     * Finds whether a progress bar is active at the top of the view
     * @returns Promise resolving to true/false
     */
    async hasProgress() {
        const hidden = await this.progress$.getAttribute('aria-hidden');
        if (hidden === 'true') {
            return false;
        }
        return true;
    }
    /**
     * Retrieves a collapsible view content section by its title
     * @param title Title of the section
     * @returns Promise resolving to ViewSection object
     */
    async getSection(title) {
        const elements = await this.section$$;
        let panel;
        const availableSections = new Set();
        for (const element of elements) {
            const sectionTitle = await element.$(this.locators.sectionTitle).getText();
            availableSections.add(sectionTitle);
            if (sectionTitle === title) {
                panel = element;
                break;
            }
        }
        if (!panel) {
            throw new Error(`No section with title '${title}' found, `
                + `available are: ${[...availableSections].join(', ')}`);
        }
        return this.createSection(panel);
    }
    /**
     * Retrieves all the collapsible view content sections
     * @returns Promise resolving to array of ViewSection objects
     */
    async getSections() {
        const sections = [];
        const elements = await this.section$$;
        for (const element of elements) {
            const section = await this.createSection(element);
            sections.push(await section.wait());
        }
        return sections;
    }
    async createSection(panel) {
        const section = new DefaultTreeSection(this.locatorMap, 
        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
        panel, this);
        if (await section.elem.$(this.locators.defaultView).isExisting()) {
            return section;
        }
        if (await section.elem.$(this.locators.extensionsView).isExisting()) {
            return new ExtensionsViewSection(this.locatorMap, 
            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
            panel, this);
        }
        return new CustomTreeSection(this.locatorMap, 
        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
        panel, this);
    }
};
ViewContent = __decorate([
    PageDecorator(ViewContentLocators)
], ViewContent);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmlld0NvbnRlbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcGFnZW9iamVjdHMvc2lkZWJhci9WaWV3Q29udGVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFlLE1BQU0sYUFBYSxDQUFBO0FBQ3RELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNDQUFzQyxDQUFBO0FBQ3pFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG9DQUFvQyxDQUFBO0FBQ3RFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHVDQUF1QyxDQUFBO0FBQzdFLE9BQU8sRUFDSCxhQUFhLEVBQWtCLFFBQVEsRUFDMUMsTUFBTSxhQUFhLENBQUE7QUFDcEIsT0FBTyxFQUFFLFdBQVcsSUFBSSxtQkFBbUIsRUFBRSxNQUFNLDBCQUEwQixDQUFBO0FBRzdFOzs7O0dBSUc7QUFFSSxXQUFNLFdBQVcsR0FBakIsTUFBTSxXQUFZLFNBQVEsUUFBb0M7SUFNakUsWUFDSSxRQUEwQixFQUNuQixPQUF5QixJQUFJLFdBQVcsQ0FBQyxRQUFRLENBQUM7UUFFekQsS0FBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFGbkIsU0FBSSxHQUFKLElBQUksQ0FBOEM7UUFQN0Q7O1dBRUc7UUFDSSxlQUFVLEdBQUcsYUFBc0IsQ0FBQTtJQU8xQyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsS0FBSyxDQUFDLFdBQVc7UUFDYixNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1FBQy9ELElBQUksTUFBTSxLQUFLLE1BQU0sRUFBRTtZQUNuQixPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsT0FBTyxJQUFJLENBQUE7SUFDZixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEtBQUssQ0FBQyxVQUFVLENBQUUsS0FBYTtRQUMzQixNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUE7UUFDckMsSUFBSSxLQUEyQixDQUFBO1FBRS9CLE1BQU0saUJBQWlCLEdBQWdCLElBQUksR0FBRyxFQUFFLENBQUE7UUFDaEQsS0FBSyxNQUFNLE9BQU8sSUFBSSxRQUFRLEVBQUU7WUFDNUIsTUFBTSxZQUFZLEdBQUcsTUFBTSxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUE7WUFDMUUsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFBO1lBQ25DLElBQUksWUFBWSxLQUFLLEtBQUssRUFBRTtnQkFDeEIsS0FBSyxHQUFHLE9BQU8sQ0FBQTtnQkFDZixNQUFLO2FBQ1I7U0FDSjtRQUNELElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDUixNQUFNLElBQUksS0FBSyxDQUNYLDBCQUEwQixLQUFLLFdBQVc7a0JBQ3hDLGtCQUFrQixDQUFDLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FDMUQsQ0FBQTtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3BDLENBQUM7SUFFRDs7O09BR0c7SUFDSCxLQUFLLENBQUMsV0FBVztRQUNiLE1BQU0sUUFBUSxHQUFrQixFQUFFLENBQUE7UUFDbEMsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsU0FBUyxDQUFBO1FBQ3JDLEtBQUssTUFBTSxPQUFPLElBQUksUUFBUSxFQUFFO1lBQzVCLE1BQU0sT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUNqRCxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7U0FDdEM7UUFDRCxPQUFPLFFBQVEsQ0FBQTtJQUNuQixDQUFDO0lBRU8sS0FBSyxDQUFDLGFBQWEsQ0FBRSxLQUEwQjtRQUNuRCxNQUFNLE9BQU8sR0FBZ0IsSUFBSSxrQkFBa0IsQ0FDL0MsSUFBSSxDQUFDLFVBQVU7UUFDZixpRUFBaUU7UUFDakUsS0FBWSxFQUNaLElBQUksQ0FDUCxDQUFBO1FBRUQsSUFBSSxNQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUU7WUFDOUQsT0FBTyxPQUFPLENBQUE7U0FDakI7UUFDRCxJQUFJLE1BQU0sT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRTtZQUNqRSxPQUFPLElBQUkscUJBQXFCLENBQzVCLElBQUksQ0FBQyxVQUFVO1lBQ2YsaUVBQWlFO1lBQ2pFLEtBQVksRUFDWixJQUFJLENBQ1AsQ0FBQTtTQUNKO1FBRUQsT0FBTyxJQUFJLGlCQUFpQixDQUN4QixJQUFJLENBQUMsVUFBVTtRQUNmLGlFQUFpRTtRQUNqRSxLQUFZLEVBQ1osSUFBSSxDQUNQLENBQUE7SUFDTCxDQUFDO0NBQ0osQ0FBQTtBQTdGWSxXQUFXO0lBRHZCLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztHQUN0QixXQUFXLENBNkZ2QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNpZGVCYXJWaWV3LCBWaWV3U2VjdGlvbiB9IGZyb20gJy4uL2luZGV4LmpzJ1xuaW1wb3J0IHsgRGVmYXVsdFRyZWVTZWN0aW9uIH0gZnJvbSAnLi90cmVlL2RlZmF1bHQvRGVmYXVsdFRyZWVTZWN0aW9uLmpzJ1xuaW1wb3J0IHsgQ3VzdG9tVHJlZVNlY3Rpb24gfSBmcm9tICcuL3RyZWUvY3VzdG9tL0N1c3RvbVRyZWVTZWN0aW9uLmpzJ1xuaW1wb3J0IHsgRXh0ZW5zaW9uc1ZpZXdTZWN0aW9uIH0gZnJvbSAnLi9leHRlbnNpb25zL0V4dGVuc2lvbnNWaWV3U2VjdGlvbi5qcydcbmltcG9ydCB7XG4gICAgUGFnZURlY29yYXRvciwgSVBhZ2VEZWNvcmF0b3IsIEJhc2VQYWdlLCBWU0NvZGVMb2NhdG9yTWFwXG59IGZyb20gJy4uL3V0aWxzLmpzJ1xuaW1wb3J0IHsgVmlld0NvbnRlbnQgYXMgVmlld0NvbnRlbnRMb2NhdG9ycyB9IGZyb20gJy4uLy4uL2xvY2F0b3JzLzEuNzMuMC5qcydcblxuZXhwb3J0IGludGVyZmFjZSBWaWV3Q29udGVudCBleHRlbmRzIElQYWdlRGVjb3JhdG9yPHR5cGVvZiBWaWV3Q29udGVudExvY2F0b3JzPiB7IH1cbi8qKlxuICogUGFnZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSB2aWV3IGNvbnRhaW5lciBvZiBhIHNpZGUgYmFyIHZpZXdcbiAqXG4gKiBAY2F0ZWdvcnkgU2lkZWJhclxuICovXG5AUGFnZURlY29yYXRvcihWaWV3Q29udGVudExvY2F0b3JzKVxuZXhwb3J0IGNsYXNzIFZpZXdDb250ZW50IGV4dGVuZHMgQmFzZVBhZ2U8dHlwZW9mIFZpZXdDb250ZW50TG9jYXRvcnM+IHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBsb2NhdG9yS2V5ID0gJ1ZpZXdDb250ZW50JyBhcyBjb25zdFxuXG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBsb2NhdG9yczogVlNDb2RlTG9jYXRvck1hcCxcbiAgICAgICAgcHVibGljIHZpZXc6IFNpZGVCYXJWaWV3PGFueT4gPSBuZXcgU2lkZUJhclZpZXcobG9jYXRvcnMpXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGxvY2F0b3JzLCB2aWV3LmVsZW0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgd2hldGhlciBhIHByb2dyZXNzIGJhciBpcyBhY3RpdmUgYXQgdGhlIHRvcCBvZiB0aGUgdmlld1xuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRydWUvZmFsc2VcbiAgICAgKi9cbiAgICBhc3luYyBoYXNQcm9ncmVzcyAoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGhpZGRlbiA9IGF3YWl0IHRoaXMucHJvZ3Jlc3MkLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKVxuICAgICAgICBpZiAoaGlkZGVuID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgY29sbGFwc2libGUgdmlldyBjb250ZW50IHNlY3Rpb24gYnkgaXRzIHRpdGxlXG4gICAgICogQHBhcmFtIHRpdGxlIFRpdGxlIG9mIHRoZSBzZWN0aW9uXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gVmlld1NlY3Rpb24gb2JqZWN0XG4gICAgICovXG4gICAgYXN5bmMgZ2V0U2VjdGlvbiAodGl0bGU6IHN0cmluZyk6IFByb21pc2U8Vmlld1NlY3Rpb24+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBhd2FpdCB0aGlzLnNlY3Rpb24kJFxuICAgICAgICBsZXQgcGFuZWwhOiBXZWJkcml2ZXJJTy5FbGVtZW50XG5cbiAgICAgICAgY29uc3QgYXZhaWxhYmxlU2VjdGlvbnM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvblRpdGxlID0gYXdhaXQgZWxlbWVudC4kKHRoaXMubG9jYXRvcnMuc2VjdGlvblRpdGxlKS5nZXRUZXh0KClcbiAgICAgICAgICAgIGF2YWlsYWJsZVNlY3Rpb25zLmFkZChzZWN0aW9uVGl0bGUpXG4gICAgICAgICAgICBpZiAoc2VjdGlvblRpdGxlID09PSB0aXRsZSkge1xuICAgICAgICAgICAgICAgIHBhbmVsID0gZWxlbWVudFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBObyBzZWN0aW9uIHdpdGggdGl0bGUgJyR7dGl0bGV9JyBmb3VuZCwgYFxuICAgICAgICAgICAgICAgICsgYGF2YWlsYWJsZSBhcmU6ICR7Wy4uLmF2YWlsYWJsZVNlY3Rpb25zXS5qb2luKCcsICcpfWBcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTZWN0aW9uKHBhbmVsKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgdGhlIGNvbGxhcHNpYmxlIHZpZXcgY29udGVudCBzZWN0aW9uc1xuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIGFycmF5IG9mIFZpZXdTZWN0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRTZWN0aW9ucyAoKTogUHJvbWlzZTxWaWV3U2VjdGlvbltdPiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25zOiBWaWV3U2VjdGlvbltdID0gW11cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBhd2FpdCB0aGlzLnNlY3Rpb24kJFxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSBhd2FpdCB0aGlzLmNyZWF0ZVNlY3Rpb24oZWxlbWVudClcbiAgICAgICAgICAgIHNlY3Rpb25zLnB1c2goYXdhaXQgc2VjdGlvbi53YWl0KCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlY3Rpb25zXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVTZWN0aW9uIChwYW5lbDogV2ViZHJpdmVySU8uRWxlbWVudCk6IFByb21pc2U8Vmlld1NlY3Rpb24+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbjogVmlld1NlY3Rpb24gPSBuZXcgRGVmYXVsdFRyZWVTZWN0aW9uKFxuICAgICAgICAgICAgdGhpcy5sb2NhdG9yTWFwLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcbiAgICAgICAgICAgIHBhbmVsIGFzIGFueSxcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChhd2FpdCBzZWN0aW9uLmVsZW0uJCh0aGlzLmxvY2F0b3JzLmRlZmF1bHRWaWV3KS5pc0V4aXN0aW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWN0aW9uXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF3YWl0IHNlY3Rpb24uZWxlbS4kKHRoaXMubG9jYXRvcnMuZXh0ZW5zaW9uc1ZpZXcpLmlzRXhpc3RpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFeHRlbnNpb25zVmlld1NlY3Rpb24oXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdG9yTWFwLFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG4gICAgICAgICAgICAgICAgcGFuZWwgYXMgYW55LFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQ3VzdG9tVHJlZVNlY3Rpb24oXG4gICAgICAgICAgICB0aGlzLmxvY2F0b3JNYXAsXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuICAgICAgICAgICAgcGFuZWwgYXMgYW55LFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICApXG4gICAgfVxufVxuIl19